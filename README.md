# Gatherlynx - 新歓・イベント運営アプリ

## 目的・ねらい

- 新歓運営の情報連携と対応の自動化により、運営者の負担を軽減します。 
- 会計や出席情報を一元管理し、運営の混乱を防止します。 
- 専用アプリの組み合わせによる導線設計で、新入生の参加ハードルを下げます。 

## ローカル環境での実行方法

1. 本リポジトリをクローンする
2. `.envs/production`(本番用のFirebaseなどの環境設定) と `.envs/staging`(ステージング用のFirebaseなどの環境設定) ファイルを取得（本リポジトリの管理者に連絡）
3. `npm install` を実行
4. `npm run dev` を実行

## 機能一覧（ユーザー別）

### 新入生向け（アプリ / メール）

- イベント等の申し込み受付（Zoom新歓、対面新歓、学生委員登録など） 
- 申し込み後のメール送信
- イベント前日などのリマインドメールを自動送信 
- キャンセル・問い合わせ機能
- QRコードによる現地出席の簡易記録

### 運営メンバー向け（アプリ）

#### 会計管理

- 参加者ごとの支払記録管理（支払済/未払い、方法、金額） 
- 管理画面でのチェック・修正機能 
- イベント別の集計表示（合計金額、未払い人数など）

#### 参加者管理

- イベントごとの申込者リスト 
- 新規申込・キャンセル・問い合わせがメール or Discordで来る
- 出席・支払状況およびメモの閲覧・編集 
- 出席管理用QRコード生成

### リーダー/幹部向け（管理者権限）

- 権限設定によるアクセス制御（一般運営者の編集制限） 
- 全データに対する管理画面
- 
## 技術的基盤と方針

|項目|方針|
|----|---|
|データ管理|Firestore|
|リマインド通知|メール|
|運営者用通知|メール or Discord|
|出席認証|QRコードに一時トークン付与|
|決済|システムでは払ったかにチェックを入れるだけ|

## データベース設計（Firestore）

- users：ユーザー情報（所属 / 管理者かどうか の項目もある）
- events：イベント情報（イベントの告知内容はすべてここにまとめる）
- participants：イベント参加者情報（運営ロールの管理 / 出席 / 会計）

## 画面遷移図（概要）

### 1. イベント参加者

- Googleログイン → ホーム
 ├─ イベント申込フォーム
 ├─ イベント一覧（表示 / キャンセルページリンク / 問い合わせフォームリンク / 出席操作） 
 ├─ キャンセルページ → キャンセル操作 → メールで完了通知 / イベント運営者にメールが届く
 ├─ 問い合わせフォーム → 送信 → メールで完了通知 / イベント運営者にメールが届く
 └─ 出席操作 → QRコード読み取り → 出席記録完了メッセージ(表示だけ)

- メール
 ├─ キャンセル完了メール
 ├─ 問い合わせ完了メール
 └─ イベントリマインド通知（自動配信）


### 2. イベント運営者（アプリ）

- Googleログイン → ホーム 
 ├─ 参加者一覧（イベント別） 
 ├─ 参加者詳細（出席管理 / 会計管理） 
 ├─ 出席管理（QRコード生成 / 履歴確認）
 ├─ 会計管理（柔軟な支払い入力 / 支払い一覧） 
 └─ 問い合わせ回答 → 送信 → メールで完了通知 / 参加者にメールが届く

- メール
 ├─ キャンセル通知メール → メールで対応
 └─  問い合わせ通知メール → メールで問い合わせ回答

### 3. 管理者（上位権限）

- Googleログイン → ホーム
 ├─ ユーザー管理画面
 ├─ イベント管理画面
 └─  参加者管理画面

## 技術構成

### Next.js
 - SSR/SPA フロントエンド 

### Firebase
 - Firebase Authentication（認証） 
 - Firestore（データベース） 
 - Firebase Functions（複雑ロジック） 
 - Firebase App Hosting（Next.js ホスティング） 

